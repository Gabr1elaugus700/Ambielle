{% extends 'global/base.html' %}

{% block content %}

<section>
  <div class="lista">
    <table class="table table-striped table-hover table-bordered">
      <thead class="table-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Nome</th>
          <th scope="col">Projetos</th>
          <th scope="col">Contato</th>
          <th scope="col">Email</th>
          <th scope="col">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for cliente in page_obj %}
        <tr>
          <td>{{ cliente.id }}</td>
          <td>{{ cliente.nome }}</td>
          <td style="text-align: center;">3</td>  <!-- Ajustar valor real depois -->
          <td>{{ cliente.contato_principal }}</td>
          <td>{{ cliente.email }}</td>
          <td class="text-center">
            <a href="{% url 'workflow:deleteCliente' cliente.id %}" onclick="return confirm('Tem certeza que deseja excluir este item?');">
              <i class="fa-regular fa-trash-can text-danger"></i>
            </a>
            &nbsp;
            <a href="{% url 'workflow:updateCliente' cliente.id %}">
              <i class="fa-regular fa-pen-to-square text-primary"></i>
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr>
          <td colspan="6" class="tfoot-cell text-center">
            <div class="pagination">
              {% if page_obj.has_previous %}
              <a href="?page=1">
                <i class="fa-solid fa-angles-left"></i>
              </a>
              <a href="?page={{ page_obj.previous_page_number }}">
                <i class="fa-solid fa-angle-left"></i>
              </a>
              {% endif %}

              <span class="current">
                Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}
              </span>

              {% if page_obj.has_next %}
              <a href="?page={{ page_obj.next_page_number }}">
                <i class="fa-solid fa-angle-right"></i>
              </a>
              <a href="?page={{ page_obj.paginator.num_pages }}">
                <i class="fa-solid fa-angles-right"></i>
              </a>
              {% endif %}
            </div>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</section>
{% endblock %}
